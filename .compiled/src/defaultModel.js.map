{"version":3,"sources":["../../src/defaultModel.js"],"names":["uiTypes","string","html","textarea","boolean","date","password","updateUi","prop","ui","type","label","_","startCase","name","hidden","private","defaultPropFromName","defaultPropFromObject","obj","dest","Object","assign","toLower","lowerFirst","updateProperties","props","forEach","isString","element","push","isObject","updateClass","clz","capitalize","properties","genModel","model","classes"],"mappings":";;;;;;AAAA;;;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,IAAMA,UAAU;AACZC,YAAQ,MADI;AAEZC,UAAM,UAFM;AAGZC,cAAU,UAHE;AAIZC,aAAS,UAJG;AAKZC,UAAM,MALM;AAMZC,cAAU;AANE,CAAhB;;AASA,SAASC,QAAT,CAAmBC,IAAnB,EAA0B;AACtBA,SAAKC,EAAL,GAAUD,KAAKC,EAAL,IAAW,EAArB;AACAD,SAAKC,EAAL,CAAQC,IAAR,GAAeF,KAAKC,EAAL,CAAQC,IAAR,IAAgBV,QAAQQ,KAAKE,IAAb,CAA/B;AACAF,SAAKC,EAAL,CAAQE,KAAR,GAAgBH,KAAKC,EAAL,CAAQE,KAAR,IAAiBC,iBAAEC,SAAF,CAAYL,KAAKM,IAAjB,CAAjC;AACAN,SAAKC,EAAL,CAAQM,MAAR,GAAiBP,KAAKO,MAAL,IAAeP,KAAKC,EAAL,CAAQM,MAAxC;AACAP,SAAKC,EAAL,CAAQO,OAAR,GAAkBR,KAAKQ,OAAL,IAAgBR,KAAKC,EAAL,CAAQO,OAA1C;AACA,WAAOR,IAAP;AACH;AACD;;;;AAIA,SAASS,mBAAT,CAA8BH,IAA9B,EAAqC;AACjC,QAAIN,OAAO,EAACM,MAAMA,IAAP,EAAaJ,MAAM,QAAnB,EAAX;AACA,WAAOH,SAAUC,IAAV,CAAP;AACH;;AAED,SAASU,qBAAT,CAAgCJ,IAAhC,EAAsCK,GAAtC,EAA4C;AACxC,QAAIC,OAAOC,OAAOC,MAAP,CAAc,EAAd,EAAkBH,GAAlB,CAAX;AACAC,SAAKV,IAAL,GAAYE,iBAAEW,OAAF,CAAUH,KAAKV,IAAL,IAAa,QAAvB,CAAZ;AACAU,SAAKN,IAAL,GAAYF,iBAAEY,UAAF,CAAaV,IAAb,CAAZ;AACA,WAAOP,SAASa,IAAT,CAAP;AACH;;AAED,SAASK,gBAAT,CAA2BC,KAA3B,EAAmC;AAC/B,QAAIN,OAAO,EAAX;AACAM,UAAMC,OAAN,CAAc,mBAAW;AACrB,YAAIf,iBAAEgB,QAAF,CAAWC,OAAX,CAAJ,EAAyB;AACrBT,iBAAKU,IAAL,CAAUb,oBAAoBY,OAApB,CAAV;AACH,SAFD,MAGK,IAAIjB,iBAAEmB,QAAF,CAAWF,OAAX,CAAJ,EAAyB;AAC1B,iBAAI,IAAIrB,IAAR,IAAgBqB,OAAhB,EAAyB;AACrBT,qBAAKU,IAAL,CAAUZ,sBAAsBV,IAAtB,EAA4BqB,QAAQrB,IAAR,CAA5B,CAAV;AACH;AACJ;AACJ,KATD;AAUA,WAAOY,IAAP;AACH;;AAED,SAASY,WAAT,CAAsBC,GAAtB,EAA4B;AACxB,QAAIb,OAAOC,OAAOC,MAAP,CAAc,EAAd,EAAkBW,GAAlB,CAAX;AACAb,SAAKN,IAAL,GAAYF,iBAAEsB,UAAF,CAAad,KAAKN,IAAlB,CAAZ;AACAM,SAAKe,UAAL,GAAkBV,iBAAkBL,KAAKe,UAAvB,CAAlB;AACA,WAAOf,IAAP;AACH;;AAED;AACA;;AAEA,SAASgB,QAAT,CAAmBC,KAAnB,EAA2B;AACvB,QAAIjB,OAAOC,OAAOC,MAAP,CAAc,EAAd,EAAkBe,KAAlB,CAAX;AACA,SAAK,IAAIJ,GAAT,IAAgBb,KAAKkB,OAArB,EAA8B;AAC1BlB,aAAKkB,OAAL,CAAaL,GAAb,IAAoBD,YAAaZ,KAAKkB,OAAL,CAAaL,GAAb,CAAb,CAApB;AACH;AACD,WAAOb,IAAP;AACH;;kBAEc;AACXgB;AADW,C","file":"defaultModel.js","sourcesContent":["import _ from 'lodash'\n/**\n * Default model looks like:\n let model = {\n     name: 'string name',\n     classes: [\n         {\n             name: 'Capitalized name',\n             properties: [\n                 {\n                     name: 'un-capitalized name',\n                     type: 'all lower case type',\n                     required: boolean,\n                     ui: {\n                         type: \"hidden|text|checkbox|radio|select\"\n                         value: \"string of result\"\n                         label: \"String of resuls\"\n                         values: [ 'stg1','stg2'],\n                         labels: ['stg1','stg2']\n                     }\n                 }\n             ]\n         }\n     ]\n }\n \n *\n * This tool will generate the model like this from the input.\n * \n * NOTE: for a property, the default type is 'string', the default \n * required is empty.\n * \n * The input may define an array of properties as either strings or objects.\n * \n*/\n\nconst uiTypes = {\n    string: 'text',\n    html: 'textarea',\n    textarea: 'textarea',\n    boolean: 'checkbox',\n    date: 'date',\n    password: 'password'\n}\n\nfunction updateUi( prop ) {\n    prop.ui = prop.ui || {}\n    prop.ui.type = prop.ui.type || uiTypes[prop.type]\n    prop.ui.label = prop.ui.label || _.startCase(prop.name)\n    prop.ui.hidden = prop.hidden || prop.ui.hidden\n    prop.ui.private = prop.private || prop.ui.private\n    return prop;\n}\n/**\n * Create a default property model from a string\n * @param {String} name \n */\nfunction defaultPropFromName( name ) {\n    let prop = {name: name, type: 'string'}\n    return updateUi( prop )\n}\n\nfunction defaultPropFromObject( name, obj ) {\n    let dest = Object.assign({}, obj);\n    dest.type = _.toLower(dest.type || 'string')\n    dest.name = _.lowerFirst(name)\n    return updateUi(dest)\n}\n\nfunction updateProperties( props ) {\n    let dest = []\n    props.forEach(element => {\n        if (_.isString(element)) {\n            dest.push(defaultPropFromName(element))\n        }\n        else if (_.isObject(element)) {\n            for(var prop in element) {\n                dest.push(defaultPropFromObject(prop, element[prop]))\n            }\n        }\n    });\n    return dest;\n}\n\nfunction updateClass( clz ) {\n    let dest = Object.assign({}, clz);\n    dest.name = _.capitalize(dest.name)\n    dest.properties = updateProperties( dest.properties)\n    return dest\n}\n\n// input is the model js object\n// output is model with fully defined properties\n\nfunction genModel( model ) {\n    let dest = Object.assign({}, model);\n    for (var clz in dest.classes) {\n        dest.classes[clz] = updateClass( dest.classes[clz])\n    }\n    return dest;\n}\n\nexport default {\n    genModel\n}"]}